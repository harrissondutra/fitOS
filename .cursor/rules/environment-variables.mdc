---
alwaysApply: true
description: Verificar arquivos .env antes de adicionar variáveis de ambiente
---

# Environment Variables - Verificação de Duplicatas

## IMPORTANTE: Sempre verificar arquivos .env antes de adicionar variáveis

Antes de adicionar qualquer variável de ambiente ao projeto, **SEMPRE**:

1. **Ler os arquivos .env existentes** no projeto:
   - [env.example](mdc:env.example) - Exemplo e referência principal
   - [env.development](mdc:env.development) - Configurações de desenvolvimento
   - [env.production](mdc:env.production) - Configurações de produção

2. **Verificar se a variável já existe** nos arquivos acima

3. **Evitar duplicatas** - Se uma variável já existe, reutilizar em vez de criar nova

## Estrutura dos arquivos .env

Os arquivos .env estão organizados por seções:
- **DATABASE** - Configurações de banco de dados
- **REDIS** - Cache e configurações Redis
- **JWT** - Autenticação e tokens
- **EMAIL** - Configurações de email
- **COST_MANAGEMENT** - Rastreamento de custos
- **COST_TRACKING** - Preços e configurações de rastreamento
- **AI_PROVIDERS** - APIs de IA (OpenAI, Anthropic, Google)
- **AWS** - Configurações AWS
- **STRIPE & MERCADO PAGO** - Pagamentos
- **WEBHOOKS** - Rate limiting
- **NOTIFICATION CHANNELS** - Slack, Discord, Webhooks
- **CURRENCY** - Conversão de moeda
- **FRONTEND** - Variáveis NEXT_PUBLIC_*

## Regras de nomenclatura

- Variáveis de backend: Nome em MAIÚSCULAS (ex: `DATABASE_URL`)
- Variáveis de frontend: Prefixo `NEXT_PUBLIC_` (ex: `NEXT_PUBLIC_API_URL`)
- Variáveis de custo: Prefixo `COST_` (ex: `COST_DATABASE_PER_GB`)
- Feature flags: Prefixo `ENABLE_` (ex: `ENABLE_DEBUG_LOGS`)
- Cache TTLs: Prefixo `CACHE_TTL_` ou `*_CACHE_TTL` (ex: `REDIS_CACHE_TTL_DEFAULT`)

## Ao adicionar nova variável

1. Verificar se já existe nome similar
2. Adicionar na seção apropriada
3. Incluir comentário explicativo
4. Atualizar `env.example`, `env.development` e `env.production`
5. Manter consistência entre os três arquivos

## ⚠️ AVISO IMPORTANTE

- **NUNCA** criar variáveis duplicadas com nomes similares
- **SEMPRE** usar nomes existentes quando possível
- **VERIFICAR** todas as seções antes de adicionar nova variável
- **MANTER** a organização por seções
